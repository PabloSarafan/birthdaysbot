# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `birthdays.db`. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è, –∏ –ë–î **—Ç–µ—Ä—è–µ—Ç—Å—è**.

**–†–µ—à–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Persistent Directory –≤ CapRover –¥–ª—è –ø–∞–ø–∫–∏ `/app/data`.

---

## üì¶ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CapRover

### 1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å CapRover

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (birthdaysbot) –≤ CapRover.

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Persistent Directory

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"App Configs"**
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Persistent Directories"**
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –ø—É—Ç—å:
   ```
   /app/data
   ```
4. –ù–∞–∂–º–∏—Ç–µ **"Save & Update"**

### 3. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "Add persistent storage for database"
git push origin main

# –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ CapRover
git push caprover main
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞
2. –°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/list` - –∑–∞–ø–∏—Å–∏ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è! ‚ú®

---

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`./birthdays.db`).

```bash
# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ
python3 bot.py
```

---

## üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ)

–ï—Å–ª–∏ —É –≤–∞—Å –æ—Å—Ç–∞–ª–∞—Å—å —Å—Ç–∞—Ä–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

1. –ó–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä CapRover:
   ```bash
   docker exec -it $(docker ps | grep birthdaysbot | awk '{print $1}') /bin/bash
   ```

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ persistent –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
   ```bash
   cp /app/birthdays.db /app/data/birthdays.db
   ```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ CapRover

---

## üìä –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (PostgreSQL)

–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ SQLite:

1. –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ CapRover
2. –ò–∑–º–µ–Ω–∏—Ç–µ `database.py` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
3. –î–æ–±–∞–≤—å—Ç–µ `psycopg2-binary` –≤ `requirements.txt`

–ù–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –±–æ—Ç–∞ SQLite + Persistent Directory –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ! üëç

